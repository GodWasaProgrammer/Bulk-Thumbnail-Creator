@page "/"

@using Microsoft.AspNetCore.Components
@using Microsoft.JSInterop
@using Bulk_Thumbnail_Creator;

<PageTitle>Bulk Thumbnail Creator</PageTitle>
<h1>Bulk Thumbnail Creator</h1>

@if (isLoading == true)
{
    <div class="horizontal-align">
        
        <div>
            <img src="images/pepe-dance.gif" alt="Loading..." style="width: 500px; height: 500px; border:0;" />
        </div>
    </div>
}
else 

{
    <select>
        @foreach (string listobject in DownloadedVideosList)
        {
            <option value="@listobject">@listobject</option>
        }
    </select>

    <div class="input-container">
        <div class="youtube-link">
            <label class="input-label" for="textInput">Youtube Link:</label>
            <input id="textInput" type="text" @bind="textInput" class="matrix-input" />
        </div>

        <div class="text-to-print">
            <div>
                <label class="input-label" for="textToPrint1">Text To Print 1:</label>
                <input id="textToPrint1" type="text" @bind="@TextToPrint1" class="matrix-input" />
            </div>

            <div>
                <label class="input-label" for="textToPrint2">Text To Print 2:</label>
                <input id="textToPrint2" type="text" @bind="@TextToPrint2" class="matrix-input" />
            </div>

            <div>
                <label class="input-label" for="textToPrint3">Text To Print 3:</label>
                <input id="textToPrint3" type="text" @bind="@TextToPrint3" class="matrix-input" />
            </div>
        </div>

    </div>
}

<MudButton Disabled="@_processing" OnClick="AwaitBTC" Variant="Variant.Filled" Color="Color.Primary">

    @if (_processing)
    {
        <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" Color="Color.Secondary" />
        <MudText Class="ms-2">Processing</MudText>
    }
    else
    {
        <MudText>Run BTC</MudText>
    }

</MudButton>

@code 
{
    private bool _processing = false;

    private async void AwaitBTC()
    {
        _processing = true;
        await CallBTC();
        _processing = false;
        StateHasChanged();
    }

}

<ImageDisplay @ref="imageDisplayref"></ImageDisplay>


