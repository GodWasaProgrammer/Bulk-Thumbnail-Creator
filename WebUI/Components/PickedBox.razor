@using Bulk_Thumbnail_Creator.PictureObjects
@using Bulk_Thumbnail_Creator.Enums

<MudSelect OnClose="HandleBoxSelection" AdornmentColor="Color.Primary" Label="Select an output box" @bind-Value="PickBox">

    @if (CurrentPagePictureData.BoxParameters != null)
    {
        @foreach (ParamForTextCreation boxParam in CurrentPagePictureData.BoxParameters)
        {
            BoxType boxType = boxParam.CurrentBox.Type;

            <MudSelectItem Value="@boxParam.CurrentBox.Type"><MudText Color="Color.Secondary">@boxParam.CurrentBox.Type</MudText></MudSelectItem>
        }
    }

</MudSelect>

@code 
{
    [Parameter]
    public Action<BoxType> OnBoxSelected { get; set; }

    private void HandleBoxSelection()
    {
        OnBoxSelected?.Invoke(PickBox);
    }

    [Parameter]
    public PictureData CurrentPagePictureData { get; set; }

    [Parameter]
    // The PickedBox that we have chosen to edit
    public BoxType PickBox { get; set; } = BoxType.None;
}