@page "/picdatalist"
@using Bulk_Thumbnail_Creator.PictureObjects
@using Bulk_Thumbnail_Creator.Services
@using System.Net.Http.Json
@using System.Net.Http
@inject PicDataService PicDataService

<MudDataGrid Items="@Elements" Filterable="true" FilterMode="@_filterMode" FilterCaseSensitivity="@_caseSensitivity">
    <Columns>
        <PropertyColumn Property="x => x.OutPutType" Title="Nr" Filterable="false" />
        <PropertyColumn Property="x => x.BoxParameters[0].CurrentBox" />
        <PropertyColumn Property="x => x.BoxParameters[1].CurrentBox" />
        <PropertyColumn Property="x => x.FileName" Filterable="false" />
        <PropertyColumn Property="x => x.Varieties.Count" Title="Molar mass" />
    </Columns>
    @* <PagerContent>
        <MudDataGridPager T="@Elements" />
    </PagerContent> *@
</MudDataGrid>

<div class="d-flex flex-wrap mt-4">
    <MudRadioGroup T="DataGridFilterMode" @bind-SelectedOption="@_filterMode">
        <MudRadio Dense="true" Option="@DataGridFilterMode.Simple" Color="Color.Primary">Simple</MudRadio>
        <MudRadio Dense="true" Option="@DataGridFilterMode.ColumnFilterMenu" Color="Color.Tertiary">Column Menu</MudRadio>
        <MudRadio Dense="true" Option="@DataGridFilterMode.ColumnFilterRow">Column Row</MudRadio>
    </MudRadioGroup>
</div>

<div class="d-flex flex-wrap mt-4">
    <MudRadioGroup T="DataGridFilterCaseSensitivity" @bind-SelectedOption="@_caseSensitivity">
        <MudRadio Dense="true" Option="@DataGridFilterCaseSensitivity.Default" Color="Color.Primary">Default Case Sensitivity</MudRadio>
        <MudRadio Dense="true" Option="@DataGridFilterCaseSensitivity.CaseInsensitive" Color="Color.Tertiary">Case Insensitive</MudRadio>
    </MudRadioGroup>
</div>


@code {
    IEnumerable<PictureData> Elements = new List<PictureData>();

    DataGridFilterMode _filterMode = DataGridFilterMode.Simple;
    DataGridFilterCaseSensitivity _caseSensitivity = DataGridFilterCaseSensitivity.Default;

    protected override async Task OnInitializedAsync()
    {
        Elements = PicDataService.PicDataServiceList;
    }
}