@using Bulk_Thumbnail_Creator.Interfaces
@using Bulk_Thumbnail_Creator.Services;
@using Microsoft.JSInterop;
@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Web
@inject PicDataService ds;
@inject ILogService logger;

<MudGrid>
    <MudPaper Class="mb-4" Elevation="7" Outlined="true">
        <MudText Color="Color.Warning">Downloads</MudText>
        <MudItem>
            <MudText>Download the entire Video</MudText>
            <MudButton href="@dlTextAddedDir" Color="Color.Tertiary">Download</MudButton>
        </MudItem>
        <MudItem>
            <MudText>Download the output directory of unedited files</MudText>
            <MudButton href="@dlOutputDir" Color="Color.Tertiary">Download</MudButton>
        </MudItem>
        <MudItem>
            <MudText>Download the Text Added Directory</MudText>
            <MudButton href="@dlTextAddedDir" Color="Color.Tertiary">Download</MudButton>
        </MudItem>
        <MudItem>
            <MudText>Download Variety Directory</MudText>
            <MudButton Color="Color.Tertiary">Download</MudButton>
        </MudItem>
    </MudPaper>
</MudGrid>


@code
{
    private string downloadVideo { get; set; }
    private string dlOutputDir { get; set; }
    private string dlTextAddedDir { get; set; }

    protected override void OnInitialized()
    {
        DownloadVideo();
        DownloadOutPutDir();
        DownloadTextAddedDir();
    }

    private void DownloadVideo()
    {
        // download the video
        string zippedVideo = ZipService.ZipVideo();
        downloadVideo = zippedVideo;
    }

    private void DownloadOutPutDir()
    {
        // download outputdir
        string zippedOutPutDir = ZipService.ZipOutputDir();
        dlOutputDir = zippedOutPutDir;
    }

    private void DownloadTextAddedDir()
    {
        // download TextAddedDir
        string zippedTextAddedDir = ZipService.ZipTextAddedDir();
        dlTextAddedDir = zippedTextAddedDir;
    }

    private void DownloadVarietyDir()
    {
        // download Variety Dir

    }

}