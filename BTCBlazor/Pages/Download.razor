@using Bulk_Thumbnail_Creator.Services;
@using Microsoft.JSInterop;
@inject PicDataService ds;
@inject IJSRuntime JSRuntime;

<MudGrid>
    <MudPaper Class="mb-4" Elevation="7" Outlined="true">
        <MudText Color="Color.Warning">Downloads</MudText>
        <MudItem>
            <MudText>Download the entire Video</MudText>
            <MudButton Color="Color.Tertiary" OnClick="DownloadVideo">Download</MudButton>
        </MudItem>
        <MudItem>
            <MudText>Download the output directory of unedited files</MudText>
            <MudButton Color="Color.Tertiary" OnClick="DownloadOutPutDir">Download</MudButton>
        </MudItem>
        <MudItem>
            <MudText>Download the Text Added Directory</MudText>
            <MudButton Color="Color.Tertiary" OnClick="DownloadTextAddedDir">Download</MudButton>
        </MudItem>
        <MudItem>
            <MudText>Download Variety Directory</MudText>
            <MudButton Color="Color.Tertiary">Download</MudButton>
        </MudItem>
    </MudPaper>
</MudGrid>

@code
{
    string JavaDownloadCall = "downloadFile";

    private void DownloadVideo()
    {
        // download the video
        string zippedVideo = ZipService.ZipVideo();

        JSRuntime.InvokeVoidAsync(JavaDownloadCall, zippedVideo);
    }

    private void DownloadOutPutDir()
    {
        // download outputdir
        string zippedOutPutDir = ZipService.ZipOutputDir();
        JSRuntime.InvokeVoidAsync(JavaDownloadCall, zippedOutPutDir);
    }

    private void DownloadTextAddedDir()
    {
        // download TextAddedDir
        string zippedTextAddedDir = ZipService.ZipTextAddedDir();
        JSRuntime.InvokeVoidAsync(JavaDownloadCall, zippedTextAddedDir);
    }

    private void DownloadVarietyDir()
    {
        // download Variety Dir
    }

}